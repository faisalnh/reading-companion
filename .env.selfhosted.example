# ==========================================
# Reading Buddy - Self-Hosted Configuration
# ==========================================

# Copy this file to .env and fill in your values
# cp .env.selfhosted.example .env

# ==========================================
# Application Configuration
# ==========================================
NODE_ENV=production
NEXT_PUBLIC_APP_URL=http://localhost:3000
APP_PORT=3000

# ==========================================
# Database Configuration
# ==========================================
DB_HOST=postgres
DB_PORT=5432
DB_NAME=reading_buddy
DB_USER=reading_buddy
# IMPORTANT: Change this to a secure password
DB_PASSWORD=change-this-secure-password-NOW

# ==========================================
# NextAuth Configuration
# ==========================================
# IMPORTANT: Generate a secure secret with:
# openssl rand -base64 32
NEXTAUTH_SECRET=change-this-nextauth-secret-NOW
NEXTAUTH_URL=http://localhost:3000

# ==========================================
# OAuth Configuration
# ==========================================
# Google OAuth (optional but recommended)
# Get credentials from: https://console.cloud.google.com/apis/credentials
# 1. Create OAuth 2.0 Client ID
# 2. Add authorized redirect URI: http://localhost:3000/api/auth/callback/google
# 3. Copy Client ID and Secret here

GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ==========================================
# MinIO Storage Configuration
# ==========================================
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_USE_SSL=false

# IMPORTANT: Change these credentials
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=change-this-minio-password-NOW
MINIO_BUCKET_NAME=reading-buddy

# ==========================================
# AI Provider Configuration
# ==========================================
# Options: 'cloud' (Google Gemini) or 'local' (RAG API)
AI_PROVIDER=cloud

# If using cloud (Gemini):
# Get API key from: https://makersuite.google.com/app/apikey
GOOGLE_GEMINI_API_KEY=

# If using local RAG:
# AI_PROVIDER=local
# NEXT_PUBLIC_RAG_API_URL=http://localhost:8000

# ==========================================
# Email Configuration (Optional)
# ==========================================
# Required for password reset and email verification
# Example with Gmail (use App Password):
# EMAIL_SERVER=smtp://your-email@gmail.com:your-app-password@smtp.gmail.com:587
# EMAIL_FROM=noreply@yourdomain.com

EMAIL_SERVER=
EMAIL_FROM=noreply@localhost

# ==========================================
# Advanced Configuration (Optional)
# ==========================================

# Deployment mode (do not change)
DEPLOYMENT_MODE=selfhosted

# ==========================================
# Quick Start Checklist
# ==========================================
#
# [ ] 1. Copy this file: cp .env.selfhosted.example .env
# [ ] 2. Set DB_PASSWORD (strong password)
# [ ] 3. Generate NEXTAUTH_SECRET: openssl rand -base64 32
# [ ] 4. Set MINIO_SECRET_KEY (strong password)
# [ ] 5. (Optional) Configure Google OAuth
# [ ] 6. (Optional) Configure AI provider
# [ ] 7. (Optional) Configure email server
# [ ] 8. Run: docker compose -f docker-compose.selfhosted.yml up -d
#
# Access Points:
# - App: http://localhost:3000
# - MinIO Console: http://localhost:9001
# - Database: localhost:5432
#
# ==========================================
